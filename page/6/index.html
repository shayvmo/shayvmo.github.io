<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>指尖改变世界 - 科技始终来源于人性</title><meta name="keywords" content="沙屿沫个人博客,沙屿沫,shayvmo,php"><meta name="author" content="沙屿沫"><meta name="copyright" content="沙屿沫"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="科技始终来源于人性">
<meta property="og:type" content="website">
<meta property="og:title" content="指尖改变世界">
<meta property="og:url" content="http://blog.shayvmo.cn/page/6/index.html">
<meta property="og:site_name" content="指尖改变世界">
<meta property="og:description" content="科技始终来源于人性">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://blog.shayvmo.cn/images/avatar.jpg">
<meta property="article:author" content="沙屿沫">
<meta property="article:tag" content="沙屿沫个人博客,沙屿沫,shayvmo,php">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.shayvmo.cn/images/avatar.jpg"><link rel="shortcut icon" href="/images/avatar.jpg"><link rel="canonical" href="http://blog.shayvmo.cn/page/6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '指尖改变世界',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-01-14 17:05:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/images/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/images/bg/kobe.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">指尖改变世界</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">指尖改变世界</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/30/memcache/" title="Centos 配置 PHP memcached 缓存【踩坑】">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/7e3483ec4f7dedd5a30f0e7fee1635b921.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos 配置 PHP memcached 缓存【踩坑】"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/30/memcache/" title="Centos 配置 PHP memcached 缓存【踩坑】">Centos 配置 PHP memcached 缓存【踩坑】</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-30T15:10:48.000Z" title="发表于 2019-08-30 23:10:48">2019-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Memcached/">Memcached</a></span></div><div class="content">最近项目中，刚好配置一个新的服务器 memcache 环境。项目中用到 memcache 缓存的时候，需要先在服务器上安装 memcache 环境，以及配置 PHP 的 memcache 拓展。目前接触到使用 memcache 缓存的场景是，多终端登录，前后端分离，设置登录 session 值。
安装教程，可以参考阿里云官方文档。
https://help.aliyun.com/document_detail/48432.html?spm=a2c4g.11186623.6.564.4a1a7cc53z7YxM


注： 如果在生产环境的服务器，记得先做备份。
Centos 及 Aliyun Linux 6系列版本
1、确认是否安装了gcc-c++ 等组件（使用 gcc –v 查看版本是否为4.2及以上）。如没有请执行 yum install gcc+ gcc-c++。
2、执行 rpm -qa | grep php 查看系统中是否有 PHP 环境。如果没有则执行  yum install php-devel,php-common,php-cli 安装包含源码编译的 PHP。
3、检测是 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/30/php-basic-1/" title="php常量以及数据类型">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/87e8124b14d17902568cc42b8240847472.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="php常量以及数据类型"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/30/php-basic-1/" title="php常量以及数据类型">php常量以及数据类型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-30T00:45:12.000Z" title="发表于 2019-08-30 08:45:12">2019-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/PHP/">PHP</a></span></div><div class="content">PHP字符串定义方式及各自区别【定义方式】单引号双引号
heredoc : &lt;&lt;&lt;EOThello worldEOT


newdoc : 
&lt;&lt;&lt;&#x27;EOT&#x27;hello EricEOT


【区别】
单引号不解析变量，单引号不解析转义字符，只能解析单引号和反斜线本身
双引号解析变量、所有转义符号变量可以使用特殊字符和{}包含
同等情况下，单引号效率更高
heredoc 相当于多行双引号
nowdoc 类似于多行单引号

【数据类型】浮点型
不能运用到比较运算中，会有单双精度的问题。
布尔型
FALSE的多种情况
0,0.0,&#x27;&#x27;,&#x27;0&#x27;,false,array(),NULL

数组类型
超全局数组
$GLOBALS //包含所有$_GET$_POST$_SESSION$_COOKIE$_REQUEST //包含get,post$_SERVER //重点$_FILES$_ENV$_SERVER$_SERVER[&#x27;SERVER_ADDR&#x27;]  // 服务器IP$_SERVER ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/30/php-basic/" title="php引用变量">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/40a1cb5ba30d3adbf4a0bfef0f8f9e3937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="php引用变量"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/30/php-basic/" title="php引用变量">php引用变量</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-30T00:12:09.000Z" title="发表于 2019-08-30 08:12:09">2019-08-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/PHP/">PHP</a></span></div><div class="content">【概念】在PHP中使用不同的变量名称，访问同一个内容。
【定义方式】&amp;
【demo】//创建一个包含0-10的数组$a = range(0,10);//创建内存空间var_dump(memory_get_usage());//查看内存使用情况// COW Copy On Write$b = $a;   //$b指向$a 空间$a = range(0,2);//修改a，开辟新空间$b &amp;= $a;  //引用，2个变量永远指向一个空间。更改a内容，并不会开辟新空间


【zval变量容器】
$a = range(0,3);xdebug_debug_zval(&#x27;a&#x27;);//需要安装Xdebug


当变量发生引用时，unset 只会取消引用，并不会销毁空间。
对于对象 obj 来说，本身就是引用传递，不会开辟新空间。
class Person&#123;	public $name = &quot;zhangsan&quot;;&#125;$p1 = new Person();xdebug_debug_zval(&#x27;p1&#x27;);$p2 =  ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/29/apache-hosts/" title="Apache 设置虚拟 hosts">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/6dac82f54987ef8411d43eb0448d149f71.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Apache 设置虚拟 hosts"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/29/apache-hosts/" title="Apache 设置虚拟 hosts">Apache 设置虚拟 hosts</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-29T15:50:40.000Z" title="发表于 2019-08-29 23:50:40">2019-08-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Linux/">Linux</a></span></div><div class="content">前几篇介绍了 Centos 下安装 LAMP 环境，随着服务器上部署的项目越来越多，Apache 也会用到配置 http-vhosts 来实现同一台服务器，部署多个站点的需求。
引入 vhosts 文件1、首先，远程连接服务器后，进入 /etc/httpd/conf 目录下，会看到 httpd.conf 的 APACHE 配置文件。这时候，可以在该文件末尾加上引入文件语句，把需要配置的 vhosts 引入进来。
include conf/extra/httpd-vhosts.conf


配置站点2、extra 目录下的 httpd-vhosts.conf 文件则填写需要配置的 vhosts 站点。
NameVirtualHost *:80&lt;VirtualHost *:80&gt;	ServerName xx.shayvmo.cn	DocumentRoot &quot;/var/www/html/xx&quot;	&lt;Directory &quot;/var/www/html/xx&quot;&gt;	    Options FollowSymLinks	    AllowO ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/29/cname/" title="如何把 Hexo 博客添加自己的域名">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/hexo/cname.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何把 Hexo 博客添加自己的域名"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/29/cname/" title="如何把 Hexo 博客添加自己的域名">如何把 Hexo 博客添加自己的域名</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-29T14:29:41.000Z" title="发表于 2019-08-29 22:29:41">2019-08-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a></span></div><div class="content">使用 Hexo 搭建博客，并发布到 GitHub 上面后，我们可以使用 yourname.github.io 访问搭建好的博客。因为之前买了自己的域名，
所以就想把自己的域名解析到 github 上。看了网上的介绍之后，设置还是比较简单，接下来就是添加域名的过程。
1、首先，进入域名所有服务商的控制台，添加 github 网址的解析，这里不推荐使用 ip 解析，推荐使用 CNAME 方式解析。


2、第二步，进入 github 网站，添加 yourname.github.io.git 仓库的 setting 里面的 Custom domain 为你解析的记录域名。


3、第三步，回到 Hexo 目录下的 source ，添加一个 CNAME 文件，不用加后缀。CNAME 文件内容为 刚刚解析的域名记录。

三步设置完后，等待解析生效，即可使用解析的域名进行访问。
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/29/svn/" title="Centos 搭建 svn 服务器">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/78a80f0e4f7de58168cdbe0c7ee1ee8823.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos 搭建 svn 服务器"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/29/svn/" title="Centos 搭建 svn 服务器">Centos 搭建 svn 服务器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-29T06:24:26.000Z" title="发表于 2019-08-29 14:24:26">2019-08-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/SVN/">SVN</a></span></div><div class="content">搭建好服务器之后，免不了需要搭建一个代码的版本控制，这里介绍如何在 Centos 服务器上搭建 svn 版本控制。
1、连接到远程服务器，并搭建 svn 
yum install subversion 

安装完成后，会在命令行界面显示Complete！
2、安装好 svn 后，创建一个版本库。我个人比较习惯放在 /opt/ 目录下
mkdir -p /opt/svn/repossvnadmin create /opt/svn/repos


【配置】
创建版本库后，需要修改仓库的权限控制配置。进入到刚刚创建好的仓库目录，conf 目录存放该仓库的配置信息。里面有3个文件，authz,passwd,svnserve.conf
passwd 表示用户的账号，密码authz 表示有哪些用户，对当前仓库的目录访问权限svnserve.conf 表示当前仓库的 svn 配置
（1）先设置passwd，配置多个用户时，以换行的格式区分
[users]# harry = harryssecret# sally = sallyssecrethello=123#用户名=密码


（2）设置authz
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/29/lamp/" title="Centos 安装 LAMP 环境">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/a2ec838e8a4d23751b990b00d52032d347.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos 安装 LAMP 环境"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/29/lamp/" title="Centos 安装 LAMP 环境">Centos 安装 LAMP 环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-29T03:51:57.000Z" title="发表于 2019-08-29 11:51:57">2019-08-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Linux/">Linux</a></span></div><div class="content">恰好今天安装服务器环境，顺便也整理下之前的笔记，写一下 Centos 安装 LAMP 环境。
不会使用Docker，部署起来有点麻烦，后面学习 Docker 的时候再另开一篇总结。

【安装流程】
1、防火墙配置CentOS 7.0默认使用的是firewall作为防火墙，这里改为iptables防火墙。
（1）关闭firewall
systemctl stop firewalld.service #停止firewallsystemctl disable firewalld.service #禁止firewall开机启动

（2）安装iptables防火墙，开放80端口，3306
yum install iptables-services #安装vi /etc/sysconfig/iptables #编辑防火墙配置文件# Firewall configuration written by system-config-firewall# Manual customization of this file is not recommended.*filter:INPUT ACCEPT [0: ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/28/crontab/" title="Linux 定时任务配置">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/0f1155a5cd15f1b07b5430af1c33177328.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux 定时任务配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/28/crontab/" title="Linux 定时任务配置">Linux 定时任务配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-28T14:25:22.000Z" title="发表于 2019-08-28 22:25:22">2019-08-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Linux/">Linux</a></span></div><div class="content">记录下项目当中用得还是比较多的 Linux 定时任务。平时在项目当中，会在用在一些信息的同步上，错误日志的处理等等。
首先，介绍一下 Linux定时任务 Crontab 命令组成。
基本格式 : 
* * * * * command 

分　时　日　月　周　命令 
第1列表示分钟1～59 每分钟用*或者 */1表示 
第2列表示小时1～23（0表示0点） 
第3列表示日期1～31 
第4列表示月份1～12 
第5列标识号星期0～6（0表示星期天） 
第6列要运行的命令 
【相关命令】
crontab -l  //列出当前服务器的定时任务crontab -e  //添加/编辑已有的定时任务service crond start             //启动服务service crond stop             //关闭服务service crond restart         //重启服务service crond reload         //重新载入配置


【流程】
连接远程服务器后，crontab -e 进入定时任务列表，i 进入编辑模式，添加完需要执行的定 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/08/28/batch-update/" title="数据库批量更新数据">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/0fff4607478aff2351e71327cf50483939.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据库批量更新数据"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/28/batch-update/" title="数据库批量更新数据">数据库批量更新数据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-28T14:07:40.000Z" title="发表于 2019-08-28 22:07:40">2019-08-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/MySQL/">MySQL</a></span></div><div class="content">记录一下，之前项目中用到的批量更新数据库数据。在数据库直接SQL更新，删除时，养成先备份数据的习惯，万一出错了还能补救。
里面有个注意点：批量更新时，一定要加上条件限制，否则会更新全部数据。
SET title = CASE idWHEN 975 THEN &#x27;新标题1&#x27;WHEN 976 THEN &#x27;新标题2&#x27;WHEN 977 THEN &#x27;新标题3&#x27;WHEN 978 THEN &#x27;新标题4&#x27;WHEN 979 THEN &#x27;新标题5&#x27;END,content = CASE idWHEN 975 THEN &#x27;新内容1&#x27;WHEN 976 THEN &#x27;新内容2&#x27;WHEN 977 THEN &#x27;新内容3&#x27;WHEN 978 THEN &#x27;新内容4&#x27;WHEN 979 THEN &#x27;新内容5&#x27;END WHERE id &lt;979;#必须限制，否则全部更新的

批量更新log_alerted表，当id为975时更新t ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/08/27/welcome/" title="欢迎来到我的博客">     <img class="post_bg" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/6d86cdc9b338679bce51a944bc3c716066.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="欢迎来到我的博客"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/27/welcome/" title="欢迎来到我的博客">欢迎来到我的博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-08-27T05:02:00.000Z" title="发表于 2019-08-27 13:02:00">2019-08-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a></span></div><div class="content">From Kobe Bryant
Somebody has to win,so why not be me !


The second place is the first loser.

</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="page-number current">6</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">沙屿沫</div><div class="author-info__description">科技始终来源于人性</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/shayvmo"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">生活就像海洋，只有意志坚强的人才能到达彼岸。</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><div class="content"><a class="title" href="/2021/09/28/paypal/" title="PayPal支付对接">PayPal支付对接</a><time datetime="2021-09-28T03:59:12.000Z" title="发表于 2021-09-28 11:59:12">2021-09-28</time></div></div><div class="aside-list-item"><div class="content"><a class="title" href="/2021/09/27/phpstorm-set-bg-img/" title="PHPstorm设置背景图片">PHPstorm设置背景图片</a><time datetime="2021-09-27T01:58:31.000Z" title="发表于 2021-09-27 09:58:31">2021-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/03/php-sort-function-analyze/" title="PHP 数组排序函数 sort 底层实现分析"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="http://oss.shayvmo.cn/blog/upload/11911e435b1decbb1f504d0d52570e6378.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PHP 数组排序函数 sort 底层实现分析"/></a><div class="content"><a class="title" href="/2021/08/03/php-sort-function-analyze/" title="PHP 数组排序函数 sort 底层实现分析">PHP 数组排序函数 sort 底层实现分析</a><time datetime="2021-08-03T09:54:26.000Z" title="发表于 2021-08-03 17:54:26">2021-08-03</time></div></div><div class="aside-list-item"><div class="content"><a class="title" href="/2021/07/29/quick-sort/" title="排序算法 - 快速排序">排序算法 - 快速排序</a><time datetime="2021-07-29T03:14:52.000Z" title="发表于 2021-07-29 11:14:52">2021-07-29</time></div></div><div class="aside-list-item"><div class="content"><a class="title" href="/2021/07/28/migrate-to-github-gitee/" title="博客内容更新迁移到 github、gitee">博客内容更新迁移到 github、gitee</a><time datetime="2021-07-28T02:32:31.000Z" title="发表于 2021-07-28 10:32:31">2021-07-28</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/"><span class="card-category-list-name">生活</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"><span class="card-category-list-name">程序人生</span><span class="card-category-list-count">57</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Golang/"><span class="card-category-list-name">Golang</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Hexo/"><span class="card-category-list-name">Hexo</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Memcached/"><span class="card-category-list-name">Memcached</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">3</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Apache/" style="font-size: 1.1em; color: #999">Apache</a> <a href="/tags/CURL/" style="font-size: 1.1em; color: #999">CURL</a> <a href="/tags/CentOS/" style="font-size: 1.1em; color: #999">CentOS</a> <a href="/tags/Crontab/" style="font-size: 1.1em; color: #999">Crontab</a> <a href="/tags/Hexo/" style="font-size: 1.37em; color: #99a4b2">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 1.1em; color: #999">JavaScript</a> <a href="/tags/LAMP/" style="font-size: 1.1em; color: #999">LAMP</a> <a href="/tags/LNMP/" style="font-size: 1.1em; color: #999">LNMP</a> <a href="/tags/Laravel/" style="font-size: 1.1em; color: #999">Laravel</a> <a href="/tags/Linux/" style="font-size: 1.23em; color: #999ea6">Linux</a> <a href="/tags/MD5/" style="font-size: 1.1em; color: #999">MD5</a> <a href="/tags/MySQL/" style="font-size: 1.23em; color: #999ea6">MySQL</a> <a href="/tags/PHP/" style="font-size: 1.5em; color: #99a9bf">PHP</a> <a href="/tags/PhpStorm/" style="font-size: 1.1em; color: #999">PhpStorm</a> <a href="/tags/Python/" style="font-size: 1.1em; color: #999">Python</a> <a href="/tags/Redis/" style="font-size: 1.1em; color: #999">Redis</a> <a href="/tags/SVN/" style="font-size: 1.1em; color: #999">SVN</a> <a href="/tags/Ubuntu/" style="font-size: 1.37em; color: #99a4b2">Ubuntu</a> <a href="/tags/VMWare/" style="font-size: 1.1em; color: #999">VMWare</a> <a href="/tags/Vagrant/" style="font-size: 1.23em; color: #999ea6">Vagrant</a> <a href="/tags/Yii/" style="font-size: 1.1em; color: #999">Yii</a> <a href="/tags/composer/" style="font-size: 1.1em; color: #999">composer</a> <a href="/tags/element/" style="font-size: 1.23em; color: #999ea6">element</a> <a href="/tags/git/" style="font-size: 1.1em; color: #999">git</a> <a href="/tags/goland/" style="font-size: 1.1em; color: #999">goland</a> <a href="/tags/jquery/" style="font-size: 1.1em; color: #999">jquery</a> <a href="/tags/life/" style="font-size: 1.1em; color: #999">life</a> <a href="/tags/memcache/" style="font-size: 1.1em; color: #999">memcache</a> <a href="/tags/phpspreadsheet/" style="font-size: 1.1em; color: #999">phpspreadsheet</a> <a href="/tags/postman/" style="font-size: 1.1em; color: #999">postman</a> <a href="/tags/sitemap/" style="font-size: 1.1em; color: #999">sitemap</a> <a href="/tags/vue/" style="font-size: 1.37em; color: #99a4b2">vue</a> <a href="/tags/webhooks/" style="font-size: 1.1em; color: #999">webhooks</a> <a href="/tags/%E5%85%AC%E4%BC%97%E5%8F%B7%E8%B0%83%E8%AF%95%E5%99%A8/" style="font-size: 1.1em; color: #999">公众号调试器</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/" style="font-size: 1.1em; color: #999">博客迁移</a> <a href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" style="font-size: 1.23em; color: #999ea6">排序算法</a> <a href="/tags/%E6%B3%9B%E5%9E%8B/" style="font-size: 1.1em; color: #999">泛型</a> <a href="/tags/%E7%99%BE%E5%BA%A6%E7%BB%9F%E8%AE%A1/" style="font-size: 1.1em; color: #999">百度统计</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.1em; color: #999">网络</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">60</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-08-27T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">24.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-01-14T09:05:19.944Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/images/bg/kobe.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2022 By 沙屿沫</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="http://www.beian.miit.gov.cn/" target="_blank" rel="noopener"><img class="icp-icon" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/images/icp.png"><span>粤ICP备18133330号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "生活就像海洋，只有意志坚强的人才能到达彼岸".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '生'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>